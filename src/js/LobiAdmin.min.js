$(document).ready(function(){HTMLElement.prototype.startLoading=function(){var e=$("body>.spinner").clone().removeClass("hide");$(this).append(e)},HTMLElement.prototype.stopLoading=function(){$(this).find(".spinner, .spinner-backdrop").remove()};var e=window.LobiAdminConfig;window.LobiAdmin=function(n){this.$el=null,this.$navPanel=null,this.$settingBox=null,this.$contentPanel=null,this.$currentPage=null;var i=this,o=function(){i.$contentPanel=i.$el.find(e.contentSelector),i.$navPanel=c(),i.$settingBox=$(e.settingBoxSelector),$("body").data("lobiAdmin",i),$(window).width()<=LobiAdmin.SCREEN_MD&&a(),l(),d(),f(),s(),p(),$(window).trigger("hashchange.lobiAdmin")},a=function(){$(e.searchFormSelector).find(".btn-search").on("click.lobiAdmin",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".navbar-search").addClass("navbar-search-full").find("input")[0].focus()}),$(e.searchFormSelector).find(".btn-remove").on("click.lobiAdmin",function(e){e.preventDefault(),e.stopPropagation(),i.$el.find(".navbar .navbar-search").removeClass("navbar-search-full")})},r=function(){$(e.searchFormSelector).find(".btn-search, .btn-remove").off("click.lobiAdmin")},l=function(){$(window).on("resize.lobiAdmin",function(){$(window).width()<=LobiAdmin.SCREEN_MD?(r(),a()):r()})},d=function(){$(document).on("click",e.fullScreenSelector,function(e){e.preventDefault(),e.stopPropagation(),i.toggleFullScreen()}),$(document).on("click",e.reloadPageSelector,function(e){e.preventDefault(),i.reload(),$(this).tooltip("hide")}),$(document).on("click",e.clearLocalStorageSelector,function(n){n.preventDefault(),e.confirmationBeforeClearStorage?Lobibox.confirm({msg:e.clearStorageConfirmationMessage,callback:function(e,n){"yes"===n&&(h({}),window.location.reload())}}):h({})})},s=function(){i.$settingBox.find(".btn-toggle").click(function(){i.$settingBox.toggleClass("opened")});var e=i.$settingBox.find(".fix-header"),n=i.$settingBox.find(".fix-menu"),t=i.$settingBox.find(".fix-ribbon");e.change(function(){var e=$(this);e.is(":checked")?i.fixHeader():(i.unfixHeader(),t.prop("checked",!1),n.prop("checked",!1))}),n.change(function(){var n=$(this);n.is(":checked")?(i.fixMenu(),e.prop("checked",!0)):(i.unfixMenu(),t.prop("checked",!1))}),t.change(function(){var t=$(this);t.is(":checked")?(i.fixRibbon(),e.prop("checked",!0),n.prop("checked",!0)):i.unfixRibbon()}),i.$settingBox.find('[name="body-bg"]').change(function(){var e=$(this);if(e.is(":checked")){var n=m();n.bodyBg=e.val(),h(n);var i;i=e.data("is-color")?e.val():"url("+e.val()+")",$("body").css("background",i)}}),i.$settingBox.find('[name="body-bg"]:checked').trigger("change");var o=i.$settingBox.find('[name="header-skin"]');o.change(function(){var e=$(this);o.each(function(e,n){$("body").removeClass(n.value)});var n=m();e.is(":checked")&&"0"!==e.val()?(n.theme=e.val(),$("body").addClass(e.val())):e.is(":checked")&&"0"===e.val()&&delete n.theme,h(n)}),i.$settingBox.find('[name="header-skin"]:checked').trigger("change")},c=function(){var n=i.$el.find(e.sidebarSelector),o=new t(n,i);return n.data("lobiAdmin.navMenu",o),o},u=function(e){var n=Array.prototype.slice.call(arguments,1);n.unshift(i),i.$el.trigger(e+".lobiAdmin",n)},f=function(){if(e.useLocalStorage){var n=null,t=localStorage.getItem("lobiAdmin");try{t&&(n=JSON.parse(t))}catch(o){window.console.error('"lobiAdmin" localStorage object is not valid JSON')}n&&(n.ribbonFixed?(i.$settingBox.find(".fix-ribbon").prop("checked",!0),i.$settingBox.find(".fix-menu").prop("checked",!0),i.$settingBox.find(".fix-header").prop("checked",!0),i.fixRibbon()):n.menuFixed?(i.$settingBox.find(".fix-menu").prop("checked",!0),i.$settingBox.find(".fix-header").prop("checked",!0),i.fixMenu()):n.headerFixed&&(i.$settingBox.find(".fix-header").prop("checked",!0),i.fixHeader()),n.bodyBg&&i.$settingBox.find('[name="body-bg"][value="'+n.bodyBg+'"]').prop("checked",!0),n.theme&&i.$settingBox.find('[name="header-skin"][value="'+n.theme+'"]').prop("checked",!0))}},m=function(){var e=null,n=localStorage.getItem("lobiAdmin");try{n&&(e=JSON.parse(n))}catch(i){window.console.error('"lobiAdmin" localStorage object is not valid JSON')}return e||{}},h=function(e){$.isEmptyObject(e)?localStorage.removeItem("lobiAdmin"):localStorage.setItem("lobiAdmin",JSON.stringify(e))},g=function(n,i){if(e.useLocalStorage){var t=m();t[n]=i,h(t)}},b=function(n){if(e.useLocalStorage){var i=m();delete i[n],h(i)}},p=function(){$(window).on("hashchange.lobiAdmin",function(){var n,t=window.location.hash;if(""===t)return void(window.location.hash=e.defaultPage);n=i.$navPanel.$menu.find('a[href="'+t+'"]'),!i.$navPanel.isCollapsed()&&$(window).width()<LobiAdmin.SCREEN_MD&&i.$navPanel.hide(),i.$navPanel.setActive(t),t=t.replace(/^#/,"");var t=v(t),o=n.find(".inner-text"),a=0===o.length?n.html():o.html();i.load(t,a)})},v=function(n){if(!e.enableUrlRouting)return n;if(LobiAdminRoutes[n])return LobiAdminRoutes[n];for(var i in LobiAdminRoutes){var t=LobiAdminRoutes[i],o=i.replace(/(\_|\-)/g,"\\$1"),a=new RegExp("^"+o+"$","g"),r=a.exec(n);if(r){for(var l=[],d=1;r[d];)l.push(r[d++]);for(var s=1;t.indexOf("$"+s)>-1;)t=t.replace("$"+s,l[s-1]),s++;return t}}return n};this.toggleFullScreen=function(){var e=i.$el[0];return void 0!==document.fullScreenElement&&null===document.fullScreenElement||void 0!==document.msFullscreenElement&&null===document.msFullscreenElement||void 0!==document.mozFullScreen&&!document.mozFullScreen||void 0!==document.webkitIsFullScreen&&!document.webkitIsFullScreen?(e.requestFullScreen=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,e.requestFullScreen(),u("expandToFullScreen")):(document.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen,document.cancelFullScreen(),u("collapseFromFullScreen")),i},this.load=function(n,t,o){u("beforePageLoad",n);var a=i.$contentPanel;return a.html("")[0].startLoading(),$.ajax({type:"GET",dataType:"html",url:n,success:function(e){a.html(e)[0].stopLoading(),i.$currentPage=n,i.drawBreadcrumbs(),t&&$("title").html(t),u("pageLoaded",n)},error:function(n){o?a.html("")[0].stopLoading():404===n.status?i.load(e.error404Page,e.error404Title,!0):500===n.status&&i.load(e.error500,e.error500Title,!0)}}),i},this.reload=function(){return i.load(i.$currentPage),u("reload"),i},this.drawBreadcrumbs=function(){var n=i.$navPanel.getActivePath(),t=$(e.breadcrumbsListSelector);t.html("");for(var o=0;o<n.length;o++){var a;if(0===o){var a=$("<li>"+n[o].text+"</li>");a.addClass("active"),n[o].icon&&a.prepend(n[o].icon," ")}else{var a=$('<li><a href="'+n[o].href+'">'+n[o].text+"</a></li>");n[o].icon&&a.find(">a").prepend(n[o].icon," ")}t.prepend(a)}return i},this.fixHeader=function(){return $("body").addClass("header-fixed"),g("headerFixed",!0),i},this.unfixHeader=function(){return $("body").removeClass("header-fixed"),$("body").removeClass("menu-fixed"),$("body").removeClass("ribbon-fixed"),b("headerFixed"),b("menuFixed"),b("ribbonFixed"),i},this.fixMenu=function(){return $("body").addClass("menu-fixed"),$("body").addClass("header-fixed"),g("menuFixed",!0),g("headerFixed",!0),i},this.unfixMenu=function(){return $("body").removeClass("menu-fixed"),$("body").removeClass("ribbon-fixed"),b("menuFixed"),b("ribbonFixed"),i},this.fixRibbon=function(){return $("body").addClass("ribbon-fixed"),$("body").addClass("header-fixed"),$("body").addClass("menu-fixed"),g("ribbonFixed",!0),g("menuFixed",!0),g("headerFixed",!0),i},this.unfixRibbon=function(){return $("body").removeClass("ribbon-fixed"),b("ribbonFixed"),i},this.$el=n,o()};var n=[],i=[];LobiAdmin.loadScript=function(e,i){"string"==typeof e&&(e=[e]);for(var t=document.getElementsByTagName("body")[0],o=e.length,a=0,r=!0,l=[],d=0,s=0;o>s;s++)n.indexOf(e[s])>-1?a++:(r=!1,l[d]=document.createElement("script"),l[d].type="text/javascript",l[d].src=e[s],l[d].onload=function(e){n.push(e.target.getAttribute("src").toString()),a++,a===o&&i&&"function"==typeof i&&i()},t.appendChild(l[d]),d++);r&&i&&"function"==typeof i&&i()},LobiAdmin.loadCSS=function(e,n){"string"==typeof e&&(e=[e]);for(var t=document.getElementsByTagName("head")[0],o=e.length,a=0,r=!0,l=[],d=0,s=0;o>s;s++)i.indexOf(e[s])>-1?a++:(r=!1,l[d]=document.createElement("link"),l[d].rel="stylesheet",l[d].href=e[s],l[d].onload=function(e){i.push(e.path[0].getAttribute("href").toString()),a++,a===o&&n&&"function"==typeof n&&n()},t.appendChild(l[d]),d++);r&&n&&"function"==typeof n&&n()},LobiAdmin.highlightCode=function(){var e=$(".highlight code");e.each(function(e,n){hljs.highlightBlock(n)})},LobiAdmin.lightenColor=function(e,n){var i=!1;"#"===e[0]&&(e=e.slice(1),i=!0);var t=parseInt(e,16),o=(t>>16)+n;o>255?o=255:0>o&&(o=0);var a=(t>>8&255)+n;a>255?a=255:0>a&&(a=0);var r=(255&t)+n;return r>255?r=255:0>r&&(r=0),(i?"#":"")+(r|a<<8|o<<16).toString(16)},LobiAdmin.fadeOutColor=function(e,n){if("#"===e[0]&&(e=e.slice(1)),!isNaN(parseInt(e,16))){var i=parseInt(e.substring(0,2),16),t=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4),16);return"rgba("+i+", "+t+", "+o+", "+(1-n/100).toFixed(2)+")"}return"rgba"===e.substr(0,4).toLowerCase()?(n=Math.max(parseFloat(e.match(/rgba\(\d+\,\s?\d+\,\s?\d+\,\s?(\d(\.\d+)?)/)[1],10)-n/100,0).toFixed(2),e.replace(/(rgba\(\d+\,\s?\d+\,\s?\d+\,\s?)(\d(\.\d+)?)/gi,"$1"+n)):"rgb"===e.substr(0,3).toLowerCase()?e.replace(/(rgb)(\(\d+\,\s?\d+\,\s?\d+)/gi,"$1a$2, "+(1-n/100).toFixed(2)):void 0};var t=function(n,i){this.$el=n,this.$menu=null,this.$showHideBtn=null,this.$lobiAdmin=i;var t=this,o=function(){t.$menu=t.$el.find("nav"),t.$showHideBtn=$(e.sidebarHideShowSelector),t.$menu.find("ul>li>a").off("click.lobiAdmin").on("click.lobiAdmin",function(e){return t.isCollapsed()&&$(this).next("ul").length>0&&t.isParentLink($(this))?(e.preventDefault(),!1):void t.toggleItem($(this))}),u(),s(),r(),d(),c(),a(),t.$menu.find("ul>li>a").click(function(e){var n=$(this);"#"!==n.attr("href")&&window.location.hash===n.attr("href")&&e.preventDefault()})},a=function(){var e=t.$el.find(".menu-header-buttons .btn").tooltip({container:"body"});$(window).width()<LobiAdmin.SCREEN_MD&&e.on("click",function(){$(this).tooltip("hide")})},r=function(){t.$menu.find('a[href="#"]').on("click.lobiAdmin",function(e){e.preventDefault()})},l=function(){$(document).off("mouseup.lobiAdmin").on("mouseup.lobiAdmin",function(e){t.$el.is(e.target)||0!==t.$el.has(e.target).length||t.$showHideBtn.is(e.target)||0!==t.$showHideBtn.has(e.target).length||t.hide()})},d=function(){var n=t.$menu.find("ul>li>a");n.each(function(n,i){var t=$(i);t.next("ul").length>0&&0===t.find(".menu-item-toggle-icon").length&&t.append(0===t.closest("ul").parent().closest("ul").length?$('<i class="'+e.menuItemIcon+' menu-item-toggle-icon"></i>'):$('<i class="'+e.submenuItemIcon+' menu-item-toggle-icon"></i>'))})},s=function(){t.$showHideBtn.on("click.lobiAdmin",function(e){e.preventDefault(),t.hideShow()})},c=function(){var n=$(e.sidebarCollapseExpandSelector);n.append('<i class="'+e.menuToggleIcon+'"></i>')},u=function(){$(document).on("click.lobiAdmin",e.sidebarCollapseExpandSelector,function(){t.toggle()})},f=function(e){var n=Array.prototype.slice.call(arguments,1);n.unshift(t.$lobiAdmin),t.$lobiAdmin.$el.trigger(e+".lobiAdmin",n)};this.toggleItem=function(e){var n=e.parent();return n.hasClass("opened")?t.collapseItem(e):t.expandItem(e),t},this.expandItem=function(n){if(n.next("ul").length>0){t.collapseItem(n.closest("ul").find(">li.opened>a")),t.isCollapsed()&&t.isParentLink(n)?n.next("ul").css("display","block"):n.next("ul").slideDown(e.panelItemToggleAnimationDuration),n.parent().addClass("opened");var i=n.find(".menu-item-toggle-icon");t.isParentLink(n)?i.removeClass(e.menuItemIcon).addClass(e.menuItemExpandIcon):i.removeClass(e.submenuItemIcon).addClass(e.submenuItemExpandedIcon),f("menuItemExpand")}return t},this.collapseItem=function(n){if(n.next("ul").length>0){n.parent().removeClass("opened"),t.isCollapsed()&&t.isParentLink(n)?n.next("ul").css("display","none"):n.next("ul").slideUp(e.panelItemToggleAnimationDuration);var i=n.find(".menu-item-toggle-icon");t.isParentLink(n)?i.removeClass(e.menuItemExpandIcon).addClass(e.menuItemIcon):i.removeClass(e.submenuItemExpandedIcon).addClass(e.submenuItemIcon),f("menuItemCollapse")}return t},this.collapse=function(){if(t.isCollapsed())return t;var n=$(e.sidebarCollapseExpandSelector);return n.find(">*").removeClass(e.menuToggleIcon).addClass(e.menuToggleCollapsedIcon),$("body").addClass("menu-collapsed"),f("menuCollapse"),t},this.expand=function(){if(!t.isCollapsed())return t;var n=$(e.sidebarCollapseExpandSelector);return n.find(">*").removeClass(e.menuToggleCollapsedIcon).addClass(e.menuToggleIcon),$("body").removeClass("menu-collapsed"),f("menuExpand"),t},this.toggle=function(){return t.isCollapsed()?t.expand():t.collapse(),t},this.isCollapsed=function(){return $("body").hasClass("menu-collapsed")?!0:!1},this.isParentLink=function(e){var n=e;return"string"==typeof e&&(n=t.$menu.find('>ul>li>a[href="'+e+'"]')),1!==n.length?!1:n.closest("ul").parent().closest("ul").length>0?!1:!0},this.getParentLink=function(e){var n=e.closest("ul").closest("li");return 0===n.length?!1:n.find(">a")},this.setActive=function(e){var n=t.$menu.find('a[href="'+e+'"]');if(0!==n.length&&!n.parent().hasClass("active")){var i=t.$menu.find("li.active");i.removeClass("active"),n.parent().addClass("active");for(var o=t.getParentLink(n);o;)o.parent().hasClass("opened")?o=t.getParentLink(o):(t.expandItem(o),o=t.getParentLink(o))}},this.getActive=function(){var e=t.$menu.find("li.active >a");return 0===e.length?null:e},this.hide=function(){return $(window).width()<LobiAdmin.SCREEN_MD?($("body").removeClass("menu-hidden"),t.$showHideBtn.removeClass("active")):($("body").addClass("menu-hidden"),t.$showHideBtn.addClass("active")),f("menuHide"),t},this.show=function(){return $(window).width()<LobiAdmin.SCREEN_MD?($("body").addClass("menu-hidden"),t.$showHideBtn.addClass("active"),l()):($("body").removeClass("menu-hidden"),t.$showHideBtn.removeClass("active")),f("menuShow"),t},this.isHidden=function(){return $("body").hasClass("menu-hidden")&&$(window).width()>=LobiAdmin.SCREEN_MD||!$("body").hasClass("menu-hidden")&&$(window).width()<LobiAdmin.SCREEN_MD?!0:!1},this.hideShow=function(){return t.isHidden()?t.show():t.hide(),t},this.getActivePath=function(){for(var e=this,n=[],i=e.getActive();i;){var t=i.find(".menu-item-icon").clone();n.push({icon:t.length>0?t:null,text:i.find(".inner-text").html()||i.html(),href:i.attr("href")});var i=e.getParentLink(i)}return n},o()};LobiAdmin.SCREEN_XS=480,LobiAdmin.SCREEN_SM=768,LobiAdmin.SCREEN_MD=992,LobiAdmin.SCREEN_LG=1200,$.fn.lobiAdmin=function(e){return this.each(function(){var n=$(this),i=n.data("lobiAdmin"),t="object"==typeof e&&e;i||n.data("lobiAdmin",i=new window.LobiAdmin(n,t)),"string"==typeof e&&i[e]()})},$("body").lobiAdmin()});