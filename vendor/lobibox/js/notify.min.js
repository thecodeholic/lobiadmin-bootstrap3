Math.randomString=function(i){for(var o="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;i>t;t++)o+=n.charAt(Math.floor(Math.random()*n.length));return o};var Lobibox=Lobibox||{};!function(){var i=function(i,o){this.$type,this.$options,this.$el,this.$sound;var n=this,t=function(i){return("mini"===i.size||"large"===i.size)&&(i.width=i.width||Lobibox.notify.OPTIONS[i.size].width),i=$.extend({},Lobibox.notify.OPTIONS[n.$type],Lobibox.notify.DEFAULTS,i),"mini"!==i.size&&i.title===!0?i.title=Lobibox.notify.OPTIONS[n.$type].title:"mini"===i.size&&i.title===!0&&(i.title=!1),i.icon===!0&&(i.icon=Lobibox.notify.OPTIONS[n.$type].icon),i.sound===!0&&(i.sound=Lobibox.notify.OPTIONS[n.$type].sound),i.sound&&(i.sound=Lobibox.notify.OPTIONS.soundPath+i.sound),i},s=function(){var i=r(),o=d();if(a(i,o),n.$el=i,n.$options.sound){var t=new Audio(n.$options.sound);t.play()}n.$el.data("lobibox",n)},a=function(i,o){if("normal"===n.$options.size)o.append(i);else if("mini"===n.$options.size)i.addClass("notify-mini"),o.append(i);else if("large"===n.$options.size){var t=l();t.append(i);var s=e(t.attr("id"));o.find(".tab-content").append(t),o.find(".nav-tabs").append(s),s.find(">a").tab("show")}},e=function(i){var o=$("<li></li>");return $('<a href="#'+i+'"></a>').attr("data-toggle","tab").attr("role","tab").append('<i class="tab-control-icon '+n.$options.icon+'"></i>').appendTo(o),o.addClass(Lobibox.notify.OPTIONS[n.$type]["class"]),o},l=function(){var i=$("<div></div>").addClass("tab-pane").attr("id",Math.randomString(10));return i},d=function(){var i;i="large"===n.$options.size?".lobibox-notify-wrapper-large":".lobibox-notify-wrapper";var o=n.$options.position.split(" ");i+="."+o.join(".");var t=$(i);return 0===t.length&&(t=$("<div></div>").addClass(i.replace(/\./g," ").trim()).appendTo($("body")),"large"===n.$options.size&&t.append($('<ul class="nav nav-tabs"></ul>')).append($('<div class="tab-content"></div>'))),t},r=function(){var i=$('<div class="lobibox-notify"></div>').addClass(Lobibox.notify.OPTIONS[n.$type]["class"]).addClass(Lobibox.notify.OPTIONS["class"]).addClass(n.$options.showClass),o=$('<div class="lobibox-notify-icon"></div>').appendTo(i);if(n.$options.img){var t=o.append('<img src="'+n.$options.img+'"/>');o.append(t)}else if(n.$options.icon){var s=o.append('<i class="'+n.$options.icon+'"></i>');o.append(s)}else i.addClass("without-icon");var a=$("<div></div>").addClass("lobibox-notify-body").append('<div class="lobibox-notify-msg">'+n.$options.msg+"</div>").appendTo(i);return n.$options.title&&a.prepend('<div class="lobibox-notify-title">'+n.$options.title+"<div>"),p(i),("normal"===n.$options.size||"mini"===n.$options.size)&&(c(i),b(i)),n.$options.width&&i.css("width",u(n.$options.width)),i},p=function(i){if(n.$options.closable){var o=$('<span class="lobibox-close">&times;</span>');i.append(o),o.click(function(){n.remove()})}},c=function(i){n.$options.closeOnClick&&i.click(function(){n.remove()})},b=function(i){if(n.$options.delay){if(n.$options.delayIndicator){var o=$('<div class="lobibox-delay-indicator"><div></div></div>');i.append(o)}var t=0,s=1e3/30,a=setInterval(function(){t+=s;var i=100*t/n.$options.delay;i>=100&&(i=100,n.remove(),a=clearInterval(a)),n.$options.delayIndicator&&o.find("div").css("width",i+"%")},s)}},f=function(i){var o=i.prev();return 0===o.length&&(o=i.next()),0===o.length?null:o.find(">a")},u=function(i){return i=Math.min($(window).outerWidth(),i)};this.remove=function(){n.$el.removeClass(n.$options.showClass).addClass(n.$options.hideClass);var i=n.$el.parent(),o=i.closest(".lobibox-notify-wrapper-large"),t="#"+i.attr("id"),s=o.find('>.nav-tabs>li:has(a[href="'+t+'"])');return s.addClass(Lobibox.notify.OPTIONS["class"]).addClass(n.$options.hideClass),setTimeout(function(){if("normal"===n.$options.size||"mini"===n.$options.size)n.$el.remove();else if("large"===n.$options.size){var o=f(s);o&&o.tab("show"),s.remove(),i.remove()}},500),n},this.$type=i,this.$options=t(o),s()};Lobibox.notify=function(o,n){return["info","warning","error","success"].indexOf(o)>-1?new i(o,n):void 0},Lobibox.notify.DEFAULTS={title:!0,size:"normal",showClass:"flipInX",hideClass:"zoomOutDown",icon:!0,msg:"",img:null,closable:!0,delay:5e3,delayIndicator:!0,closeOnClick:!0,width:400,sound:!0,position:"bottom right"},Lobibox.notify.OPTIONS={"class":"animated-fast",soundPath:"src/sounds/",large:{width:500},mini:{"class":"notify-mini"},success:{"class":"lobibox-notify-success",title:"Success",icon:"glyphicon glyphicon-ok-sign",sound:"sound2.mp3"},error:{"class":"lobibox-notify-error",title:"Error",icon:"glyphicon glyphicon-remove-sign",sound:"sound4.mp3"},warning:{"class":"lobibox-notify-warning",title:"Warning",icon:"glyphicon glyphicon-exclamation-sign",sound:"sound5.mp3"},info:{"class":"lobibox-notify-info",title:"Information",icon:"glyphicon glyphicon-info-sign",sound:"sound6.mp3"}}}();